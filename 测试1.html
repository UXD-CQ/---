<script>
    function drawProtractor() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(canvas.width, canvas.height) / 3; // 调整量角器的大小
            const startAngle = 3 * Math.PI / 2;
            const endAngle = Math.PI / 2;

            context.clearRect(0, 0, canvas.width, canvas.height);

            context.save();
            context.translate(centerX, centerY);
            context.rotate(Math.PI);
            context.translate(-centerX, -centerY);

            // 绘制外圆弧
            context.strokeStyle = 'black';
            context.lineWidth = 2;
            context.beginPath();
            context.arc(centerX, centerY, radius, startAngle, endAngle, true);
            context.stroke();

            // 绘制基准线
            context.beginPath();
            context.moveTo(centerX, centerY - radius);
            context.lineTo(centerX, centerY + radius);
            context.stroke();

            // 绘制刻度线和标签
            for (let i = 0; i <= 180; i += 10) {
                const angle = (i + 90) * (Math.PI / 180); // 旋转180度
                const xOuter = centerX + Math.cos(angle) * radius;
                const yOuter = centerY + Math.sin(angle) * radius;
                const xInner = centerX + Math.cos(angle) * (radius - 20); // 调整刻度线长度
                const yInner = centerY + Math.sin(angle) * (radius - 20); // 调整刻度线长度

                context.strokeStyle = 'black';
                context.beginPath();
                context.moveTo(xInner, yInner);
                context.lineTo(xOuter, yOuter);
                context.stroke();

                // 绘制0-180度标签，每10度一个标签
                if (i % 10 === 0) {
                    context.fillStyle = 'black';
                    context.font = '14px Arial';
                    const xText1 = centerX + Math.cos(angle) * (radius - 35);
                    const yText1 = centerY + Math.sin(angle) * (radius - 35);
                    const xText2 = centerX + Math.cos(angle) * (radius - 50);
                    const yText2 = centerY + Math.sin(angle) * (radius - 50);

                    context.save();
                    context.translate(xText1, yText1);
                    context.rotate(angle + Math.PI / 2);
                    context.fillText(i.toString(), -10, 5);
                    context.restore();

                    context.save();
                    context.translate(xText2, yText2);
                    context.rotate(angle + Math.PI / 2);
                    context.fillText((180 - i).toString(), -10, 5);
                    context.restore();
                }
            }

            context.restore();

            // 绘制当前角度线
            const angleRadians = (-currentAngle + 90) * (Math.PI / 180); // 调整角度方向
            const xAngle = centerX + Math.cos(angleRadians) * radius;
            const yAngle = centerY + Math.sin(angleRadians) * radius;

            context.strokeStyle = 'red';
            context.beginPath();
            context.moveTo(centerX, centerY);
            context.lineTo(xAngle, yAngle);
            context.stroke();
        }

</script>